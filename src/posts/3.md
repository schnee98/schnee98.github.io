---
title: "Storybook, Jest 활용"
date: "2024-06-02"
description: "Storybook과 Jest??"
thumbnail: "img/posts/3/storybook.png"
---

서론 어쩌구저쩌구

서론 어쩌구저쩌구

서론 어쩌구저쩌구

서론 어쩌구저쩌구

이번 포스트에서는 프론트엔드에서 자주 쓰이는 테스팅 도구들인 `Jest` 와 `Storybook` 을 통해 `Unit Test`, `UI Test` 를 하는 방법을 알아보겠습니다.

# Jest

`Jest` 는 Facebook이 개발한 자바스크립트 테스팅 프레임워크로, `React`, `Vue`, `Angular`, `Express` 와 같은 자바스크립트 라이브러리 및 프레임워크 기반의 코드를 테스트하기에 최적화되어 있습니다.

`Jest` 는 **설정이 거의 필요 없는** 테스트 프레임워크를 목표로 개발되어 테스트 작성의 진입 장벽을 낮추었고, **테스트 실행 속도가 빠르다**는 특징이 있습니다.

이어 `Jest` 는 모의 함수, 타이머, 비동기 테스트 외에도 스냅샷 테스팅, 테스트 커버리지 리포트 등의 **다양한 고급 기능**들을 지원하여, 개발자가 효율적으로 테스트를 작성할 수 있도록 도와줍니다.

## Jest Unit Test 시작하기

1. `Jest` 를 `devDependencies` 에 설치해줍니다.

```bash
npm i -D jest
```

2. 파일 네이밍 컨벤션을 지키며 테스트 파일을 생성합니다.

> `calculationUtils.js` 의 테스트 파일을 만든다 => `calculationUtils.test.js`

3. 테스트할 코드를 작성해줍니다.

```javascript
// calculationUtils.js
const calculationUtils = {
  add(a, b) {
    return a + b;
  },

  ...
}

export default calculationUtils;

// calculationUtils.test.js
describe('더하기 단위 테스트', () => {
	it('add 함수에 2과 7을 입력하면 9를 결과로 반환한다.', () => {
    // given
    const firstOperand = 2;
    const secondOperand = 7;
    const expectedResult = 9;

    // when
    const result = calculationUtils.add(firstOperand, secondOperand);

    // then
		expect(result).toEqual(expectedResult);
	});
});
```

`Jest` 의 각 기능들에 대해서 알아봅시다.

- `describe` : 테스트 그룹을 묶어줍니다. `Test Suite` 와 같은 역할을 합니다.
- `it` : 테스트 케이스를 표현합니다. 어떤 코드를 어떻게 테스트하는지 구체적으로 설명합니다.
- `expect` : 검증하는 코드를 인수로 입력 받습니다.
- `toEqual()` : `expect` 의 결과가 `toEqual()` 의 인수와 같은지 비교합니다.

단위 테스트는 일반적으로 **given**, **when**, **then** 방식으로 테스트를 진행합니다.

1. **given** : 테스트에 필요한 값들을 설정합니다. (입력 값, 예상 출력 값)
2. **when** : 테스트 대상을 실행합니다.
3. **then** : 실행한 결과 값이 예상한 값과 일치하는지 확인합니다.

위 테스트를 실행하면 다음과 같이 테스트가 완료됐다라고 합니다!

![테스트 성공](/img/posts/3/test_result.png)

테스트가 실패한다면 어떨까요?

![테스트 실패](/img/posts/3/test_fail.png)

위와 같이 예상했던 값과 실제로 받은 값이 출력되며 테스트 대상의 버그를 찾을 수 있습니다.

## Jest를 통해 느낀 점

저는 [뉴스 스탠드 미션](https://github.com/schnee98/fe-newsstand-react)을 구현하며 `Jest` 로 [`Unit Test` 코드를 작성](https://github.com/schnee98/fe-newsstand-react/blob/main/src/view/utils/Utils.test.tsx)하기 시작하였습니다.

`Unit Test` 를 작성하며 느낀 점은:

- 코드 수정 이후에도 기능이 정상적으로 동작하는지 확인해 볼 수 있다.
- 문서화가 잘된다.
- 테스트를 작성하면서 기능들을 모듈화하여 설계하는 습관이 생긴다.
  - `Unit Test` 를 만들려면 코드가 독립적이여야 하기 때문에

# Storybook

`Storybook` 은 UI 컴포넌트를 독립적으로 개발하고 테스트할 수 있게 해주는 오픈 소스 도구입니다. 주로 `React` , `Vue` , `Angular` 와 같은 프레임워크와 함께 사용됩니다.

`Storybook` 에서는 UI 컴포넌트가 각각 개별적인 환경에서 애플리케이션의 나머지 컴포넌트에 영향을 주지 않도록 테스트 할 수 있습니다. 컴포넌트들이 **독립적으로 테스트 되기 때문에 컴포넌트가 의도한대로 작동하는지 확인**하기가 쉬워집니다.

**컴포넌트의 독립적인 시각적 표현을 통해 문서화를 하고, 비개발자 팀원들과 협업**을 할 때도 용이합니다.

`Storybook` 은 **다양한 시나리오에서 컴포넌트들을 쉽게 테스트** 할 수 있어 개발자가 어플리케이션 전체를 탐색하며 오류를 찾을 필요가 없어집니다.

## Storybook UI Test 시작하기

1. 설명
2. 설명
3. 설명
4. 설명

## Storybook을 쓰며 느낀 점

# 마치며

# 참고자료

- [Jest 활용 경험: 테스팅에 대한 고민과 통찰](https://blog.imqa.io/testing-framework-jest/)
- [단위 테스트로 복잡한 도메인의 프론트 프로젝트 정복하기(feat. Jest)](https://techblog.woowahan.com/8942/)
- [자바스크립트로 테스트 코드 작성하기 with Jest](https://medium.com/@hee98.09.14/자바스크립트로-테스트-코드-작성하기-with-jest-19caa8e7eec4)
- [Poiema Web Storybook](https://poiemaweb.com/storybook)
- [스토리북(Storybook) 도입으로 UI 컴포넌트 개발 최적화하기](https://f-lab.kr/insight/optimizing-ui-component-development-with-storybook?gad_source=1&gclid=Cj0KCQjw7ZO0BhDYARIsAFttkChSorRf3rgjkTxH7got-rtjkGUPwgM487f9qNvjlPxd0SUNgVZT-MAaAoeQEALw_wcB)
- [Storybook 소개 / 기본 사용법](https://www.daleseo.com/storybook/)
- [The Benefits and Frustrations of Using Storybook](https://cleancommit.io/blog/the-benefits-and-frustrations-of-using-storybook/)
